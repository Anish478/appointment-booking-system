<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Create Appointment Slots</title>
  </head>
  
  <body>
    <h1>Create Appointment Slots</h1>
    <a th:href="@{/}">Home Page</a> | <a th:href="@{/logout}">Logout</a>
    <br/><br/>
    
    <form method="POST" th:action="@{/appointments}">
      
      <label for="title">Appointment Title:</label><br/>
      <input type="text" name="title" id="title" required placeholder="e.g., Office Hours"/>
      <br/><br/>
      
      <label for="appointmentType">Type:</label><br/>
      <select name="appointmentType" id="appointmentType" required>
        <option value="">-- Select --</option>
        <option value="Group">Group</option>
        <option value="Individual">Individual</option>
      </select>
      <br/><br/>
      
      <label for="meetingDuration">Meeting Duration (minutes):</label><br/>
      <input type="number" name="meetingDuration" id="meetingDuration" required min="5" placeholder="30"/>
      <br/><br/>
      
      <label for="gapBetweenMeetings">Gap Between Meetings (minutes):</label><br/>
      <input type="number" name="gapBetweenMeetings" id="gapBetweenMeetings" required min="0" placeholder="10"/>
      <br/><br/>
      
      <label for="location">Location:</label><br/>
      <input type="text" name="location" id="location" required placeholder="e.g., Room 301"/>
      <br/><br/>
      
      <hr/>
      <h3>Days Schedule:</h3>
      
      <div id="daysContainer">
        <!-- First day entry -->
        <div class="day-entry">
          <strong>Day 1:</strong><br/>
          <label>Date:</label>
          <input type="date" name="dates" required/>
          
          <label>Start Time:</label>
          <input type="time" name="startTimes" required/>
          
          <label>End Time:</label>
          <input type="time" name="endTimes" required/>
          <br/><br/>
        </div>
      </div>
      
      <button type="button" onclick="addDay()">+ Add Another Day</button>
      <br/><br/>
      
      <hr/>
      <button type="submit">Create All Appointment Slots</button>
      <a th:href="@{/}">Cancel</a>
      
    </form>

    <script>
      let dayCount = 1;
      
      function addDay() {
        dayCount++;
        
        const container = document.getElementById('daysContainer');
        const newDay = document.createElement('div');
        newDay.className = 'day-entry';
        newDay.innerHTML = `
          <strong>Day ${dayCount}:</strong><br/>
          <label>Date:</label>
          <input type="date" name="dates" required/>
          
          <label>Start Time:</label>
          <input type="time" name="startTimes" required/>
          
          <label>End Time:</label>
          <input type="time" name="endTimes" required/>
          
          <button type="button" onclick="removeDay(this)">Remove</button>
          <br/><br/>
        `;
        
        container.appendChild(newDay);
      }
      
      function removeDay(button) {
        button.parentElement.remove();
      }
    </script>

  </body>
</html>
